(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{13:function(e,t,a){"use strict";a.r(t);var r=a(0),n=a.n(r),o=a(7),s=a.n(o),l=a(1),c=a(2),i=a(4),d=a(3),p=a(5),u=function(e){return n.a.createElement("div",{id:"display-container"},n.a.createElement("h3",null,"Bombs remaining: ",e.mines-e.flagsPlaced),n.a.createElement("h3",null,"Time Elapsed: ",e.timeElapsed))},m=function(e){var t;return t=1===e.revealed?99===e.contents?n.a.createElement("i",{class:"fas fa-fire"}):e.contents?e.contents:"":-1===e.revealed?n.a.createElement("i",{className:"fas fa-flag",coords:e.coords}):"",n.a.createElement("div",{style:e.revealed?{fontSize:"14px",backgroundColor:"rgb(53,91,123)",color:"rgb(248, 177, 149)",borderRadius:"1px",textAlign:"center"}:{fontSize:"14px",backgroundColor:"rgb(248, 177, 149)",color:"rgb(248, 177, 149)",borderRadius:"1px",textAlign:"center"},onClick:e.handleClick,coords:e.coords,onContextMenu:e.handleRightClick},t)},f=function(e){function t(e){var a;return Object(l.a)(this,t),(a=Object(i.a)(this,Object(d.a)(t).call(this,e))).handleClick=function(e){if(e.target.getAttribute("coords")){var t=e.target.getAttribute("coords").split("."),r={y:parseInt(t[0]),x:parseInt(t[1])};if(a.props.gameStarted){if(!a.state.boardRevealedState[r.y][r.x]){var n=a.copyBoardState(a.props.rows,a.props.columns),o=a.copyRevealedState(a.props.rows,a.props.columns);a.revealTile(r,o,n,a.props.rows,a.props.columns),a.setState({boardRevealedState:o})}}else a.props.startGame(),a.setBoard(a.props.rows,a.props.columns,a.props.mines,r)}},a.revealTile=function(e,t,r,n,o){console.log("revealTile called");var s=e.y,l=e.x;if(99===r[s][l])return alert("GAME OVER!"),console.log("Game over function should be called here");if(0===t[s][l]&&(t[s][l]=1),0===r[s][l])for(var c=-1;c<2;c++)if(!(s+c>=n||s+c<0))for(var i=-1;i<2;i++)l+i>=o||l+i<0||0===t[s+c][l+i]&&a.revealTile({y:s+c,x:l+i},t,r,n,o)},a.handleRightClick=function(e){e.preventDefault();var t=e.target.getAttribute("coords").split("."),r={y:parseInt(t[0]),x:parseInt(t[1])};1!==a.state.boardRevealedState[r.y][r.x]&&a.setFlag(r)},a.setFlag=function(e){var t=a.copyRevealedState(a.props.rows,a.props.columns);t[e.y][e.x]?(t[e.y][e.x]=0,a.props.decrementFlagsPlaced()):(t[e.y][e.x]=-1,a.props.incrementFlagsPlaced()),a.setState({boardRevealedState:t})},a.copyBoardState=function(e,t){for(var r=[],n=0;n<e;n++){for(var o=[],s=0;s<t;s++)o.push(a.state.boardState[n][s]);r.push(o)}return r},a.copyRevealedState=function(e,t){for(var r=[],n=0;n<e;n++){for(var o=[],s=0;s<t;s++)o.push(a.state.boardRevealedState[n][s]);r.push(o)}return r},a.boardInit=function(e,t){for(var a=[],r=0;r<e;r++){for(var n=[],o=0;o<t;o++)n.push(0);a.push(n)}return a},a.setBoard=function(e,t,r,n){var o=a.copyBoardState(e,t),s=a.copyRevealedState(e,t);a.setFreeSpace(e,t,n,o),a.placeMines(e,t,r,o),a.countNeighboringMines(e,t,o),a.revealTile(n,s,o,e,t),a.setState({boardState:o,boardRevealedState:s})},a.setFreeSpace=function(e,t,a,r){for(var n=-1;n<2;n++)if(a.y+n>=0&&a.y+n<e)for(var o=-1;o<2;o++)a.x+o>=0&&a.x+o<t&&(r[a.y+n][a.x+o]=-1)},a.placeMines=function(e,t,a,r){for(var n=a/(e*t);;)for(var o=0;o<e;o++)for(var s=0;s<t;s++)if(0===r[o][s]&&Math.random()<=n&&(r[o][s]=99,!--a))return console.log("completed mine placement")},a.countNeighboringMines=function(e,t,r){for(var n=0;n<e;n++)for(var o=0;o<t;o++)if(r[n][o]<1){var s={y:n,x:o};a.countTileNeighbors(e,t,s,r)}},a.countTileNeighbors=function(e,t,a,r){-1===r[a.y][a.x]&&(r[a.y][a.x]=0);for(var n=-1;n<2;n++)if(a.y+n>=0&&a.y+n<e)for(var o=-1;o<2;o++)a.x+o>=0&&a.x+o<t&&99===r[a.y+n][a.x+o]&&r[a.y][a.x]++},a.state={boardState:a.boardInit(a.props.rows,a.props.columns),boardRevealedState:a.boardInit(a.props.rows,a.props.columns)},a}return Object(p.a)(t,e),Object(c.a)(t,[{key:"componentDidUpdate",value:function(){console.log(this.state)}},{key:"render",value:function(){var e=this,t={backgroundColor:"rgb(246, 114, 128)",display:"grid",gridTemplateRows:"repeat("+this.props.rows+", 30px)",gridTemplateColumns:"repeat("+this.props.columns+", 30px)",gridGap:"2px"},a=this.state.boardState.map(function(t,a){return t.map(function(t,r){return n.a.createElement(m,{key:a+"."+r,contents:e.state.boardState[a][r],revealed:e.state.boardRevealedState[a][r],handleClick:e.handleClick,coords:a+"."+r,handleRightClick:e.handleRightClick})})});return n.a.createElement("div",{id:"board",style:t}," ",a," ")}}]),t}(n.a.Component),v=function(e){function t(e){var a;return Object(l.a)(this,t),(a=Object(i.a)(this,Object(d.a)(t).call(this,e))).startGame=function(){a.setState({started:!0,intervalId:setInterval(a.incrementTimeElapsed,1e3)})},a.incrementTimeElapsed=function(){a.setState({timeElapsed:a.state.timeElapsed+1})},a.incrementFlagsPlaced=function(){a.setState({flagsPlaced:a.state.flagsPlaced+1})},a.decrementFlagsPlaced=function(){a.setState({flagsPlaced:a.state.flagsPlaced-1})},a.state={timeElapsed:0,rows:16,columns:16,mines:40,started:!1,flagsPlaced:0,intervalId:null},a}return Object(p.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){return n.a.createElement("div",{className:"container"},n.a.createElement(u,{flagsPlaced:this.state.flagsPlaced,mines:this.state.mines,timeElapsed:this.state.timeElapsed}),n.a.createElement(f,{rows:this.state.rows,columns:this.state.columns,mines:this.state.mines,gameStarted:this.state.started,startGame:this.startGame,incrementFlagsPlaced:this.incrementFlagsPlaced,decrementFlagsPlaced:this.decrementFlagsPlaced}))}}]),t}(n.a.Component),g=function(e){function t(){return Object(l.a)(this,t),Object(i.a)(this,Object(d.a)(t).apply(this,arguments))}return Object(p.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){return n.a.createElement("div",{className:"App"},n.a.createElement(v,null))}}]),t}(r.Component);s.a.render(n.a.createElement(g,null),document.getElementById("root"))},8:function(e,t,a){e.exports=a(13)}},[[8,2,1]]]);
//# sourceMappingURL=main.7bb00f8e.chunk.js.map